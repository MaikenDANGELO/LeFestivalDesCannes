{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport LocalSource from \"@/datasource/controller\";\nimport { mapActions } from \"vuex\";\nexport default {\n  name: 'LoginForm',\n  data() {\n    return {\n      login: '',\n      password: '',\n      userName: '',\n      tel: 0,\n      adresse: '',\n      isPasswordVisible: false,\n      message: ''\n    };\n  },\n  methods: {\n    ...mapActions('utilisateurs', ['logIn']),\n    async connexion() {\n      try {\n        const response = await LocalSource.connexion(this.login, this.password);\n        if (response.error === 0) {\n          await this.logIn(response.data);\n          this.$router.push({\n            name: \"home\"\n          });\n        } else {\n          this.message = response.data;\n        }\n      } catch (error) {\n        console.error(\"Erreur lors de la connexion:\", error);\n        this.message = \"Une erreur est survenue. Veuillez réessayer.\"; // Gestion d'erreur\n      }\n    },\n    togglePasswordVisibility() {\n      this.isPasswordVisible = !this.isPasswordVisible;\n    },\n    async signUp() {\n      try {\n        const response = await LocalSource.signUp(this.login, this.password, this.tel, this.userName, this.adresse);\n        if (response.error === 0) {\n          await this.logIn(response.data);\n          this.$router.push({\n            name: \"home\"\n          });\n        } else {\n          console.log(this.login, this.password, this.tel, this.userName, this.adresse);\n          this.message = response.data;\n        }\n      } catch (error) {\n        console.error(\"Erreur lors de la connexion:\", error);\n        this.message = \"Une erreur est survenue. Veuillez réessayer.\"; // Gestion d'erreur\n      }\n    }\n  }\n};","map":{"version":3,"names":["LocalSource","mapActions","name","data","login","password","userName","tel","adresse","isPasswordVisible","message","methods","connexion","response","error","logIn","$router","push","console","togglePasswordVisibility","signUp","log"],"sources":["src/views/PageSign.vue"],"sourcesContent":["<template>\n  <body>\n  <div class=\"main\">\n    <input type=\"checkbox\" id=\"chk\" aria-hidden=\"true\">\n\n    <div class=\"signup\">\n      <form @submit.prevent=\"signUp\" method=\"post\">\n        <label class=\"title\" for=\"chk\" aria-hidden=\"true\">Sign up</label>\n\n        <input v-model=\"userName\" type=\"text\" name=\"txt\" placeholder=\"User name\" required=\"\">\n        <input v-model=\"adresse\" type=\"text\" name=\"txt\" placeholder=\"Adresse\" required=\"\">\n        <input v-model=\"login\" type=\"email\" name=\"email\" placeholder=\"Email\" required=\"\">\n        <input v-model=\"tel\" type=\"number\" name=\"tel\" placeholder=\"N° Télephone\" required=\"\">\n        <input v-model=\"password\" :type=\"isPasswordVisible ? 'text' : 'password'\" id=\"mdp\" name=\"mdp\" placeholder=\"Votre mot de passe\" required>\n        <button class=\"password-icon\" type=\"button\" @click=\"togglePasswordVisibility\">\n          <i :class=\"isPasswordVisible ? 'fa fa-eye-slash' : 'fa fa-eye'\"></i>\n        </button>\n        <button class=\"submit\" type=\"submit\">Sign up</button>\n        <p>{{message}}</p>\n      </form>\n    </div>\n\n    <div class=\"login\">\n      <form @submit.prevent=\"connexion\" method=\"POST\" >\n        <label class=\"title\" for=\"chk\" aria-hidden=\"true\">Login</label>\n\n        <label for=\"login\">Email:</label>\n        <input v-model=\"login\" type=\"text\" id=\"login\" name=\"login\" placeholder=\"Votre login\" required>\n\n        <label for=\"mdp\">Mot de passe :</label>\n        <input v-model=\"password\" :type=\"isPasswordVisible ? 'text' : 'password'\" id=\"mdp\" name=\"mdp\" placeholder=\"Votre mot de passe\" required>\n        <button class=\"password-icon\" type=\"button\" @click=\"togglePasswordVisibility\">\n          <i :class=\"isPasswordVisible ? 'fa fa-eye-slash' : 'fa fa-eye'\"></i>\n        </button>\n\n        <button class=\"submit\" type=\"submit\">Login</button>\n        <p>{{message}}</p>\n      </form>\n    </div>\n  </div>\n  </body>\n</template>\n\n<script>\nimport LocalSource from \"@/datasource/controller\";\nimport {mapActions} from \"vuex\";\n\nexport default {\n  name: 'LoginForm',\n  data() {\n    return {\n      login:'',\n      password:'',\n      userName:'',\n      tel:0,\n      adresse:'',\n      isPasswordVisible: false,\n      message:'',\n    }\n  },\n  methods:{\n    ...mapActions('utilisateurs', [ 'logIn']),\n    async connexion(){\n      try {\n        const response = await LocalSource.connexion(this.login, this.password);\n        if (response.error === 0) {\n          await this.logIn(response.data);\n          this.$router.push({ name: \"home\" });\n        } else {\n          this.message = response.data;\n        }\n      } catch (error) {\n        console.error(\"Erreur lors de la connexion:\", error);\n        this.message = \"Une erreur est survenue. Veuillez réessayer.\"; // Gestion d'erreur\n      }\n    },\n    togglePasswordVisibility() {\n      this.isPasswordVisible = !this.isPasswordVisible;\n    },\n    async signUp(){\n      try {\n        const response = await LocalSource.signUp(this.login, this.password, this.tel, this.userName, this.adresse);\n        if (response.error === 0) {\n          await this.logIn(response.data);\n          this.$router.push({ name: \"home\" });\n        } else {\n          console.log(this.login, this.password, this.tel, this.userName, this.adresse)\n          this.message = response.data;\n        }\n      } catch (error) {\n        console.error(\"Erreur lors de la connexion:\", error);\n        this.message = \"Une erreur est survenue. Veuillez réessayer.\"; // Gestion d'erreur\n      }\n    },\n  }\n}\n\n</script>\n\n<style scoped>\nbody{\n  margin: 0;\n  padding: 0;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-height: 100vh;\n  font-family: 'Jost', sans-serif;\n  background: linear-gradient(to bottom, #0f0c29, #302b63, #24243e);\n}\n.main{\n  width: 350px;\n  height: 600px;\n  background: red;\n  overflow: hidden;\n  background: url(\"https://doc-08-2c-docs.googleusercontent.com/docs/securesc/68c90smiglihng9534mvqmq1946dmis5/fo0picsp1nhiucmc0l25s29respgpr4j/1631524275000/03522360960922298374/03522360960922298374/1Sx0jhdpEpnNIydS4rnN4kHSJtU1EyWka?e=view&authuser=0&nonce=gcrocepgbb17m&user=03522360960922298374&hash=tfhgbs86ka6divo3llbvp93mg4csvb38\") no-repeat center/ cover;\n  border-radius: 10px;\n  box-shadow: 5px 20px 50px #000;\n}\n#chk{\n  display: none;\n}\n.signup{\n  position: relative;\n  width:100%;\n  height: 100%;\n}\n.title{\n  color: #fff;\n  font-size: 2.3em;\n  justify-content: center;\n  display: flex;\n  margin: 50px;\n  font-weight: bold;\n  cursor: pointer;\n  transition: .5s ease-in-out;\n}\n\nlabel{\n  justify-content: center;\n  display: flex;\n}\ninput{\n  width: 60%;\n  height: 10px;\n  background: #e0dede;\n  justify-content: center;\n  display: flex;\n  margin: 15px auto;\n  padding: 12px;\n  border: none;\n  outline: none;\n  border-radius: 5px;\n}\nbutton{\n  width: 60%;\n  height: 40px;\n  margin: 10px auto;\n  justify-content: center;\n  display: block;\n  color: #fff;\n  background: #573b8a;\n  font-size: 1em;\n  font-weight: bold;\n  margin-top: 30px;\n  outline: none;\n  border: none;\n  border-radius: 5px;\n  transition: .2s ease-in;\n  cursor: pointer;\n}\n.submit:hover{\n  background: #6d44b8;\n}\n.login{\n  height: 560px;\n  background: #eee;\n  border-radius: 70% / 10%;\n  transform: translateY(-180px);\n  transition: .8s ease-in-out;\n}\n.login .title{\n  color: #573b8a;\n  transform: scale(.6);\n}\n\n#chk:checked ~ .login{\n  transform: translateY(-570px);\n}\n#chk:checked ~ .login label{\n  transform: scale(1);\n}\n#chk:checked ~ .signup label{\n  transform: scale(.6);\n}\n\n.password-icon{\n  display: flex;\n  align-items: center;\n  position: absolute;\n  right: 20%;\n  transform: translateY(-50%);\n  width: 20px;\n  height: 10px;\n  color: #000000;\n  background-color: white;\n  transition: all 0.2s;\n  border: 0;\n}\n\n.login .password-icon {\n  top: 34.5%;\n}\n\n.signup .password-icon{\n  top: 45.75%;\n}\n\n</style>"],"mappings":";AA4CA,OAAAA,WAAA;AACA,SAAAC,UAAA;AAEA;EACAC,IAAA;EACAC,KAAA;IACA;MACAC,KAAA;MACAC,QAAA;MACAC,QAAA;MACAC,GAAA;MACAC,OAAA;MACAC,iBAAA;MACAC,OAAA;IACA;EACA;EACAC,OAAA;IACA,GAAAV,UAAA;IACA,MAAAW,UAAA;MACA;QACA,MAAAC,QAAA,SAAAb,WAAA,CAAAY,SAAA,MAAAR,KAAA,OAAAC,QAAA;QACA,IAAAQ,QAAA,CAAAC,KAAA;UACA,WAAAC,KAAA,CAAAF,QAAA,CAAAV,IAAA;UACA,KAAAa,OAAA,CAAAC,IAAA;YAAAf,IAAA;UAAA;QACA;UACA,KAAAQ,OAAA,GAAAG,QAAA,CAAAV,IAAA;QACA;MACA,SAAAW,KAAA;QACAI,OAAA,CAAAJ,KAAA,iCAAAA,KAAA;QACA,KAAAJ,OAAA;MACA;IACA;IACAS,yBAAA;MACA,KAAAV,iBAAA,SAAAA,iBAAA;IACA;IACA,MAAAW,OAAA;MACA;QACA,MAAAP,QAAA,SAAAb,WAAA,CAAAoB,MAAA,MAAAhB,KAAA,OAAAC,QAAA,OAAAE,GAAA,OAAAD,QAAA,OAAAE,OAAA;QACA,IAAAK,QAAA,CAAAC,KAAA;UACA,WAAAC,KAAA,CAAAF,QAAA,CAAAV,IAAA;UACA,KAAAa,OAAA,CAAAC,IAAA;YAAAf,IAAA;UAAA;QACA;UACAgB,OAAA,CAAAG,GAAA,MAAAjB,KAAA,OAAAC,QAAA,OAAAE,GAAA,OAAAD,QAAA,OAAAE,OAAA;UACA,KAAAE,OAAA,GAAAG,QAAA,CAAAV,IAAA;QACA;MACA,SAAAW,KAAA;QACAI,OAAA,CAAAJ,KAAA,iCAAAA,KAAA;QACA,KAAAJ,OAAA;MACA;IACA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}