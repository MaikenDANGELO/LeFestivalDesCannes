{"ast":null,"code":"import { prestataires, utilisateurs } from '@/datasource/data';\nimport { mapState, mapActions } from 'vuex';\nexport default {\n  name: \"PrestataireDetail\",\n  data() {\n    return {\n      prestataire: null,\n      user_note: 0,\n      user_comment: \"\"\n    };\n  },\n  methods: {\n    ...mapActions(['getPrestataireAvis']),\n    getUtilisateur(id) {\n      let utilisateur = utilisateurs.find(u => u['id_utilisateur'] === id);\n      return utilisateur;\n    },\n    // Envoie les données entrée dans le formulaire de commentaire sous forme d'événement\n    sendCommentForm() {\n      // Il faudra ajouter l'id de l'utilisateur courant lorsqu'il existera !\n      let data = [this.prestataire['id'], this.user_note, this.user_comment];\n      console.log(data);\n      this.$emit(\"sendCommentForm\", data);\n    }\n  },\n  computed: {\n    ...mapState(['avis_prestataire'])\n  },\n  created() {\n    const id = this.$route.params.id;\n    this.prestataire = prestataires.find(p => p.id === id); // récupère le prestataire d'après l'id renseignée depuis la Page  principale\n    this.getPrestataireAvis(this.prestataire['id']); // récupère les avis du prestataire\n  }\n};","map":{"version":3,"names":["prestataires","utilisateurs","mapState","mapActions","name","data","prestataire","user_note","user_comment","methods","getUtilisateur","id","utilisateur","find","u","sendCommentForm","console","log","$emit","computed","created","$route","params","p","getPrestataireAvis"],"sources":["src/views/PagePrestataire.vue"],"sourcesContent":["<template>\n  <div class=\"prestataire-detail\" v-if=\"prestataire\">\n    <div class=\"image-container\">\n      <img class=\"animate-fade\" :src=\"require(`@/assets/${prestataire.image}`)\" alt=\"Logo du Prestataire\">\n    </div>\n    <div class=\"info-container animate-slide\">\n      <h1>{{ prestataire.nom }}</h1>\n      <p>{{ prestataire.description }}</p>\n      <ul>\n        <li><strong>Catégorie:</strong> {{ prestataire.categorie }}</li>\n        <li><strong>Emplacement:</strong> {{ prestataire.id_emplacement }}</li>\n      </ul>\n\n      <div class=\"avis\">\n        <h2>Avis et commentaires</h2>\n        <div class=\"avis-input\">\n          <h3>Envoyer un avis:</h3>\n            <label for=\"note_input\">Note: </label>\n            <input id=\"note_input\" type=\"number\" max=\"5\" min=\"0\" v-model=\"user_note\"><br>\n            <label for=\"commentaire_input\">Commentaire: </label>\n            <input id=\"commentaire_input\" type=\"text\" v-model=\"user_comment\">\n            <button @click=\"sendCommentForm()\">Envoyer</button>\n          </form>\n        </div><br>\n        <h3>Avis des utilisateurs</h3>\n        <div v-for=\"avis in this.avis_prestataire\" :key=\"avis['id']\">\n          <h4>{{ getUtilisateur(avis['id_utilisateur'])['nom_utilisateur'] }} - {{ avis['note'] }}/5</h4>\n          <p>{{ avis['texte'] }}</p>\n        </div>\n    </div>\n    </div>\n  </div>\n  <div v-else>\n    <p>Chargement des données...</p>\n  </div>\n</template>\n\n<script>\nimport { prestataires, utilisateurs } from '@/datasource/data';\nimport { mapState, mapActions } from 'vuex';\n\nexport default {\n  name: \"PrestataireDetail\",\n  data() {\n    return {\n      prestataire: null,\n      user_note: 0,\n      user_comment: \"\",\n    };\n  },\n  methods:{\n    ...mapActions(['getPrestataireAvis']),\n    getUtilisateur(id){\n      let utilisateur = utilisateurs.find(u => u['id_utilisateur'] === id)\n      return utilisateur;\n    },\n    // Envoie les données entrée dans le formulaire de commentaire sous forme d'événement\n    sendCommentForm(){\n      // Il faudra ajouter l'id de l'utilisateur courant lorsqu'il existera !\n      let data = [this.prestataire['id'],this.user_note, this.user_comment];\n      console.log(data);\n      this.$emit(\"sendCommentForm\", data);\n    }\n  },\n  computed: {\n    ...mapState(['avis_prestataire']),\n  },\n  created() {\n    const id = this.$route.params.id;\n    this.prestataire = prestataires.find(p => p.id === id); // récupère le prestataire d'après l'id renseignée depuis la Page  principale\n    this.getPrestataireAvis(this.prestataire['id']) // récupère les avis du prestataire\n  },\n};\n</script>\n\n<style scoped>\n.prestataire-detail {\n  display: flex;\n  flex-direction: row;\n  align-items: flex-start;\n  background-color: #fff;\n  border-radius: 8px;\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\n  overflow: hidden;\n  padding: 16px;\n}\n\n.image-container {\n  flex: 1;\n  padding: 10px;\n}\n\n.image-container img {\n  max-width: 75%;\n  /* Réduire la taille de l'image */\n  height: auto;\n  border-radius: 8px;\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\n  transition: opacity 0.5s ease-in-out;\n  /* Animation */\n}\n\n.info-container {\n  flex: 2;\n  padding: 10px;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  animation: slideIn 0.5s forwards;\n  /* Animation */\n}\n\nh1 {\n  color: #333;\n  font-size: 24px;\n  margin-bottom: 10px;\n}\n\nul {\n  list-style: none;\n  padding: 0;\n}\n\nul li {\n  margin-bottom: 5px;\n  color: #666;\n}\n\nul li strong {\n  color: #333;\n}\n\n@keyframes fadeIn {\n  from {\n    opacity: 0;\n  }\n\n  to {\n    opacity: 1;\n  }\n}\n\n.animate-fade {\n  animation: fadeIn 1s ease-in-out;\n}\n\n@keyframes slideIn {\n  from {\n    transform: translateX(-20px);\n    opacity: 0;\n  }\n\n  to {\n    transform: translateX(0);\n    opacity: 1;\n  }\n}\n\n.animate-slide {\n  animation: slideIn 1s ease-in-out;\n}\n</style>"],"mappings":"AAsCA,SAAAA,YAAA,EAAAC,YAAA;AACA,SAAAC,QAAA,EAAAC,UAAA;AAEA;EACAC,IAAA;EACAC,KAAA;IACA;MACAC,WAAA;MACAC,SAAA;MACAC,YAAA;IACA;EACA;EACAC,OAAA;IACA,GAAAN,UAAA;IACAO,eAAAC,EAAA;MACA,IAAAC,WAAA,GAAAX,YAAA,CAAAY,IAAA,CAAAC,CAAA,IAAAA,CAAA,uBAAAH,EAAA;MACA,OAAAC,WAAA;IACA;IACA;IACAG,gBAAA;MACA;MACA,IAAAV,IAAA,SAAAC,WAAA,aAAAC,SAAA,OAAAC,YAAA;MACAQ,OAAA,CAAAC,GAAA,CAAAZ,IAAA;MACA,KAAAa,KAAA,oBAAAb,IAAA;IACA;EACA;EACAc,QAAA;IACA,GAAAjB,QAAA;EACA;EACAkB,QAAA;IACA,MAAAT,EAAA,QAAAU,MAAA,CAAAC,MAAA,CAAAX,EAAA;IACA,KAAAL,WAAA,GAAAN,YAAA,CAAAa,IAAA,CAAAU,CAAA,IAAAA,CAAA,CAAAZ,EAAA,KAAAA,EAAA;IACA,KAAAa,kBAAA,MAAAlB,WAAA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}