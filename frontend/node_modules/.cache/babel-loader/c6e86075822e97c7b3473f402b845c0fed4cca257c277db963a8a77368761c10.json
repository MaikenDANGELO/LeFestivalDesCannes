{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { prestataires, billetterie } from \"./data\";\nfunction getAllPrestataires() {\n  return {\n    error: 0,\n    data: prestataires\n  };\n}\nfunction insertBillet(vue, total) {\n  try {\n    const lastBilletterie = billetterie.length > 0 ? billetterie[billetterie.length - 1] : null;\n    let newId = lastBilletterie ? lastBilletterie.id_billetterie + 1 : 1;\n    let insert = {\n      \"id_billetterie\": newId,\n      \"nombre_billets\": vue.form.ticketQuantity,\n      \"prix_total\": total,\n      \"date_achat\": new Date().toISOString().split('T')[0]\n    };\n\n    // Ajouter l'objet à billetterie\n    billetterie.push(insert);\n    return {\n      error: 0,\n      status: 200\n    };\n  } catch (error) {\n    console.error(\"Erreur lors de l'ajout de la billetterie :\", error.message);\n    return {\n      error: 1,\n      status: 404\n    };\n  }\n}\nexport default {\n  getAllPrestataires,\n  insertBillet\n};","map":{"version":3,"names":["prestataires","billetterie","getAllPrestataires","error","data","insertBillet","vue","total","lastBilletterie","length","newId","id_billetterie","insert","form","ticketQuantity","Date","toISOString","split","push","status","console","message"],"sources":["/home/salut/S3/SAE/LeFestivalDesCannes/frontend/src/datasource/controller.js"],"sourcesContent":["import { prestataires, billetterie } from \"./data\";\nfunction getAllPrestataires() {\n    return { error: 0, data: prestataires };\n}\n\nfunction insertBillet(vue, total){\n    try{\n    const lastBilletterie = billetterie.length > 0 ? billetterie[billetterie.length - 1] : null;\n\n    let newId = lastBilletterie ? lastBilletterie.id_billetterie + 1 : 1;\n\n    let insert = {\n        \"id_billetterie\": newId,\n        \"nombre_billets\": vue.form.ticketQuantity,\n        \"prix_total\": total,\n        \"date_achat\": new Date().toISOString().split('T')[0],\n    };\n\n    // Ajouter l'objet à billetterie\n    billetterie.push(insert);\n    return {error: 0, status: 200}\n\n    } catch (error) {\n        console.error(\"Erreur lors de l'ajout de la billetterie :\", error.message);\n        return {error: 1, status: 404}\n    }\n\n\n}\n\nexport default {\n    getAllPrestataires,\n    insertBillet,\n};"],"mappings":";AAAA,SAASA,YAAY,EAAEC,WAAW,QAAQ,QAAQ;AAClD,SAASC,kBAAkBA,CAAA,EAAG;EAC1B,OAAO;IAAEC,KAAK,EAAE,CAAC;IAAEC,IAAI,EAAEJ;EAAa,CAAC;AAC3C;AAEA,SAASK,YAAYA,CAACC,GAAG,EAAEC,KAAK,EAAC;EAC7B,IAAG;IACH,MAAMC,eAAe,GAAGP,WAAW,CAACQ,MAAM,GAAG,CAAC,GAAGR,WAAW,CAACA,WAAW,CAACQ,MAAM,GAAG,CAAC,CAAC,GAAG,IAAI;IAE3F,IAAIC,KAAK,GAAGF,eAAe,GAAGA,eAAe,CAACG,cAAc,GAAG,CAAC,GAAG,CAAC;IAEpE,IAAIC,MAAM,GAAG;MACT,gBAAgB,EAAEF,KAAK;MACvB,gBAAgB,EAAEJ,GAAG,CAACO,IAAI,CAACC,cAAc;MACzC,YAAY,EAAEP,KAAK;MACnB,YAAY,EAAE,IAAIQ,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC;IACvD,CAAC;;IAED;IACAhB,WAAW,CAACiB,IAAI,CAACN,MAAM,CAAC;IACxB,OAAO;MAACT,KAAK,EAAE,CAAC;MAAEgB,MAAM,EAAE;IAAG,CAAC;EAE9B,CAAC,CAAC,OAAOhB,KAAK,EAAE;IACZiB,OAAO,CAACjB,KAAK,CAAC,4CAA4C,EAAEA,KAAK,CAACkB,OAAO,CAAC;IAC1E,OAAO;MAAClB,KAAK,EAAE,CAAC;MAAEgB,MAAM,EAAE;IAAG,CAAC;EAClC;AAGJ;AAEA,eAAe;EACXjB,kBAAkB;EAClBG;AACJ,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}