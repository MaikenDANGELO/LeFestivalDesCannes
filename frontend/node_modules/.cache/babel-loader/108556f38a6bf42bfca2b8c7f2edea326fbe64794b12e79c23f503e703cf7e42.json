{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { prestataires, billetterie } from \"./data\";\nimport bcrypt from 'bcryptjs';\nfunction getAllPrestataires() {\n  return {\n    error: 0,\n    data: prestataires\n  };\n}\nfunction insertCommandeBillet(vue, total) {\n  try {\n    const lastBilletterie = billetterie.length > 0 ? billetterie[billetterie.length - 1] : null;\n    let newId = lastBilletterie ? lastBilletterie.id_billetterie + 1 : 1;\n    let ticketQuantity = 0;\n    for (let i = 0; i < vue.form.tickets.length; i++) {\n      ticketQuantity += vue.form.tickets[i].quantity;\n    }\n    let insert = {\n      \"id_billetterie\": newId,\n      \"nombre_billets\": ticketQuantity,\n      \"prix_total\": total,\n      \"date_achat\": new Date().toISOString().split('T')[0],\n      \"email\": vue.form.email\n    };\n\n    // Ajouter l'objet à billetterie\n    billetterie.push(insert);\n    return {\n      error: 0,\n      status: 200\n    };\n  } catch (error) {\n    console.error(\"Erreur lors de l'ajout de la billetterie :\", error.message);\n    return {\n      error: 1,\n      status: 404\n    };\n  }\n}\nasync function connexion(login, mdp) {\n  const hashedPassword = await bcrypt.hash(this.password);\n}\nexport default {\n  getAllPrestataires,\n  insertCommandeBillet,\n  connexion\n};","map":{"version":3,"names":["prestataires","billetterie","bcrypt","getAllPrestataires","error","data","insertCommandeBillet","vue","total","lastBilletterie","length","newId","id_billetterie","ticketQuantity","i","form","tickets","quantity","insert","Date","toISOString","split","email","push","status","console","message","connexion","login","mdp","hashedPassword","hash","password"],"sources":["/home/salut/S3/SAE/LeFestivalDesCannes/frontend/src/datasource/controller.js"],"sourcesContent":["import { prestataires, billetterie } from \"./data\";\nimport bcrypt from 'bcryptjs';\n\nfunction getAllPrestataires() {\n    return { error: 0, data: prestataires };\n}\n\nfunction insertCommandeBillet(vue, total){\n    try{\n    const lastBilletterie = billetterie.length > 0 ? billetterie[billetterie.length - 1] : null;\n\n    let newId = lastBilletterie ? lastBilletterie.id_billetterie + 1 : 1;\n    let ticketQuantity = 0;\n        for (let i = 0; i < vue.form.tickets.length; i++) {\n            ticketQuantity += vue.form.tickets[i].quantity;\n        }\n\n    let insert = {\n        \"id_billetterie\": newId,\n        \"nombre_billets\": ticketQuantity,\n        \"prix_total\": total,\n        \"date_achat\": new Date().toISOString().split('T')[0],\n        \"email\": vue.form.email,\n    };\n\n    // Ajouter l'objet à billetterie\n    billetterie.push(insert);\n    return {error: 0, status: 200}\n\n    } catch (error) {\n        console.error(\"Erreur lors de l'ajout de la billetterie :\", error.message);\n        return {error: 1, status: 404}\n    }\n}\n\nasync function connexion(login, mdp){\n    const hashedPassword = await bcrypt.hash(this.password);\n}\n\nexport default {\n    getAllPrestataires,\n    insertCommandeBillet,\n    connexion,\n};"],"mappings":";AAAA,SAASA,YAAY,EAAEC,WAAW,QAAQ,QAAQ;AAClD,OAAOC,MAAM,MAAM,UAAU;AAE7B,SAASC,kBAAkBA,CAAA,EAAG;EAC1B,OAAO;IAAEC,KAAK,EAAE,CAAC;IAAEC,IAAI,EAAEL;EAAa,CAAC;AAC3C;AAEA,SAASM,oBAAoBA,CAACC,GAAG,EAAEC,KAAK,EAAC;EACrC,IAAG;IACH,MAAMC,eAAe,GAAGR,WAAW,CAACS,MAAM,GAAG,CAAC,GAAGT,WAAW,CAACA,WAAW,CAACS,MAAM,GAAG,CAAC,CAAC,GAAG,IAAI;IAE3F,IAAIC,KAAK,GAAGF,eAAe,GAAGA,eAAe,CAACG,cAAc,GAAG,CAAC,GAAG,CAAC;IACpE,IAAIC,cAAc,GAAG,CAAC;IAClB,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGP,GAAG,CAACQ,IAAI,CAACC,OAAO,CAACN,MAAM,EAAEI,CAAC,EAAE,EAAE;MAC9CD,cAAc,IAAIN,GAAG,CAACQ,IAAI,CAACC,OAAO,CAACF,CAAC,CAAC,CAACG,QAAQ;IAClD;IAEJ,IAAIC,MAAM,GAAG;MACT,gBAAgB,EAAEP,KAAK;MACvB,gBAAgB,EAAEE,cAAc;MAChC,YAAY,EAAEL,KAAK;MACnB,YAAY,EAAE,IAAIW,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;MACpD,OAAO,EAAEd,GAAG,CAACQ,IAAI,CAACO;IACtB,CAAC;;IAED;IACArB,WAAW,CAACsB,IAAI,CAACL,MAAM,CAAC;IACxB,OAAO;MAACd,KAAK,EAAE,CAAC;MAAEoB,MAAM,EAAE;IAAG,CAAC;EAE9B,CAAC,CAAC,OAAOpB,KAAK,EAAE;IACZqB,OAAO,CAACrB,KAAK,CAAC,4CAA4C,EAAEA,KAAK,CAACsB,OAAO,CAAC;IAC1E,OAAO;MAACtB,KAAK,EAAE,CAAC;MAAEoB,MAAM,EAAE;IAAG,CAAC;EAClC;AACJ;AAEA,eAAeG,SAASA,CAACC,KAAK,EAAEC,GAAG,EAAC;EAChC,MAAMC,cAAc,GAAG,MAAM5B,MAAM,CAAC6B,IAAI,CAAC,IAAI,CAACC,QAAQ,CAAC;AAC3D;AAEA,eAAe;EACX7B,kBAAkB;EAClBG,oBAAoB;EACpBqB;AACJ,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}