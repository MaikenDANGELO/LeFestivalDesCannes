{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport LocalSource from \"@/datasource/controller\";\nimport { mapActions, mapState } from \"vuex\";\nexport default {\n  name: 'SignUpForm',\n  props: [\"signUpPrestatire\"],\n  data() {\n    return {\n      login: '',\n      password: '',\n      userName: '',\n      tel: 0,\n      adresse: '',\n      isPasswordVisible: false,\n      message: '',\n      signup: 'Utilisateur',\n      codePrestataire: -1\n    };\n  },\n  computed: {\n    ...mapState('utilisateurs', ['utilisateur'])\n  },\n  methods: {\n    ...mapActions('utilisateurs', ['logIn']),\n    async connexion() {\n      try {\n        const response = await LocalSource.connexion(this.login, this.password);\n        if (response.error === 0) {\n          await this.logIn(response.data);\n\n          // redirection vers la page appropriée selon l'utilisateur\n          if (this.utilisateur.role === \"admin\") this.$router.push({\n            name: \"adminhome\"\n          });else if (this.utilisateur.role === \"prestataire\") this.$router.push(`/prestataire/${this.utilisateur.id}`);else this.$router.push({\n            name: \"home\"\n          });\n        } else {\n          this.message = response.data;\n        }\n      } catch (error) {\n        console.error(\"Erreur lors de la connexion:\", error);\n        this.message = \"Une erreur est survenue. Veuillez réessayer.\"; // Gestion d'erreur\n      }\n    },\n    togglePasswordVisibility() {\n      this.isPasswordVisible = !this.isPasswordVisible;\n    },\n    async signUp() {\n      try {\n        const response = await LocalSource.signUp(this.login, this.password, this.tel, this.userName, this.adresse, this.codePrestataire, this.signup);\n        if (response.error === 0) {\n          await this.logIn(response.data);\n          console.log(this.utilisateur.role);\n          // redirection vers la page approprié selon l'utilisateur\n          if (this.utilisateur.role === \"admin\") this.$router.push({\n            name: \"adminhome\"\n          });else if (this.utilisateur.role === \"prestataire\") this.$emit(\"updateSignUp\", !this.signUpPrestatire);else this.$router.push({\n            name: \"home\"\n          });\n        } else {\n          this.message = response.data;\n        }\n      } catch (error) {\n        this.message = \"Une erreur est survenue. Veuillez réessayer.\";\n      }\n    },\n    toggleSlide() {\n      const button = document.getElementById('slideButton');\n      button.classList.toggle('active');\n      if (this.signup === \"Utilisateur\") {\n        this.signup = \"Prestataire\";\n      } else {\n        this.signup = \"Utilisateur\";\n      }\n    }\n  }\n};","map":{"version":3,"names":["LocalSource","mapActions","mapState","name","props","data","login","password","userName","tel","adresse","isPasswordVisible","message","signup","codePrestataire","computed","methods","connexion","response","error","logIn","utilisateur","role","$router","push","id","console","togglePasswordVisibility","signUp","log","$emit","signUpPrestatire","toggleSlide","button","document","getElementById","classList","toggle"],"sources":["src/components/SignUpComponent.vue"],"sourcesContent":["<template>\n  <body>\n  <div class=\"main\">\n    <input type=\"checkbox\" id=\"chk\" aria-hidden=\"true\">\n\n    <div class=\"signup\">\n      <form @submit.prevent=\"signUp\" method=\"post\">\n        <label class=\"title\" for=\"chk\" aria-hidden=\"true\">Sign up</label>\n\n        <div class=\"button-container\">\n          <button type=\"button\" class=\"button-slide\" id=\"slideButton\" @click=\"toggleSlide()\">\n            <span id=\"buttonText\">{{signup}}</span>\n          </button>\n        </div>\n\n        <input v-model=\"userName\" type=\"text\" name=\"txt\" placeholder=\"User name\" required=\"\">\n        <input v-model=\"adresse\" type=\"text\" name=\"txt\" placeholder=\"Adresse\" required=\"\">\n        <input v-model=\"login\" type=\"email\" name=\"email\" placeholder=\"Email\" required=\"\">\n        <input v-model=\"tel\" type=\"number\" name=\"tel\" placeholder=\"N° Télephone\" required=\"\" value=\"\">\n        <input v-model=\"password\" :type=\"isPasswordVisible ? 'text' : 'password'\" id=\"mdp\" name=\"mdp\" placeholder=\"Votre mot de passe\" required>\n        <input v-if=\"signup === 'Prestataire'\" v-model=\"codePrestataire\" type=\"number\" name=\"codePrestataire\" placeholder=\"Code Prestataire\" required>\n\n\n        <button class=\"password-icon\" type=\"button\" @click=\"togglePasswordVisibility\">\n          <i :class=\"isPasswordVisible ? 'fa fa-eye-slash' : 'fa fa-eye'\"></i>\n        </button>\n\n        <button class=\"submit\" type=\"submit\">Sign up</button>\n        <p>{{message}}</p>\n      </form>\n    </div>\n\n    <div class=\"login\">\n      <form @submit.prevent=\"connexion\" method=\"POST\" >\n        <label class=\"title\" for=\"chk\" aria-hidden=\"true\">Login</label>\n\n        <label for=\"login\">Email:</label>\n        <input v-model=\"login\" type=\"text\" id=\"login\" name=\"login\" placeholder=\"Votre login\" required>\n\n        <label for=\"mdp\">Mot de passe :</label>\n        <input v-model=\"password\" :type=\"isPasswordVisible ? 'text' : 'password'\" id=\"mdp\" name=\"mdp\" placeholder=\"Votre mot de passe\" required>\n        <button class=\"password-icon\" type=\"button\" @click=\"togglePasswordVisibility\">\n          <i :class=\"isPasswordVisible ? 'fa fa-eye-slash' : 'fa fa-eye'\"></i>\n        </button>\n\n        <button class=\"submit\" type=\"submit\">Login</button>\n        <p>{{message}}</p>\n      </form>\n    </div>\n  </div>\n  </body>\n</template>\n\n<script>\nimport LocalSource from \"@/datasource/controller\";\nimport {mapActions, mapState} from \"vuex\";\n\nexport default {\n  name: 'SignUpForm',\n  props: [\"signUpPrestatire\"],\n  data() {\n    return {\n      login:'',\n      password:'',\n      userName:'',\n      tel:0,\n      adresse:'',\n      isPasswordVisible: false,\n      message:'',\n      signup:'Utilisateur',\n      codePrestataire:-1,\n    }\n  },\n  computed : {\n    ...mapState('utilisateurs', ['utilisateur']),\n  },\n  methods:{\n    ...mapActions('utilisateurs', [ 'logIn']),\n    async connexion(){\n      try {\n        const response = await LocalSource.connexion(this.login, this.password);\n        if (response.error === 0) {\n          await this.logIn(response.data);\n\n          // redirection vers la page appropriée selon l'utilisateur\n          if(this.utilisateur.role === \"admin\") this.$router.push({name: \"adminhome\"});\n          else if (this.utilisateur.role === \"prestataire\") this.$router.push(`/prestataire/${this.utilisateur.id}`);\n          else this.$router.push({ name: \"home\" });\n        } else {\n          this.message = response.data;\n        }\n      } catch (error) {\n        console.error(\"Erreur lors de la connexion:\", error);\n        this.message = \"Une erreur est survenue. Veuillez réessayer.\"; // Gestion d'erreur\n      }\n    },\n    togglePasswordVisibility() {\n      this.isPasswordVisible = !this.isPasswordVisible;\n    },\n    async signUp(){\n      try {\n        const response = await LocalSource.signUp(this.login, this.password, this.tel, this.userName, this.adresse, this.codePrestataire, this.signup);\n\n        if (response.error === 0) {\n          await this.logIn(response.data);\n          console.log(this.utilisateur.role);\n          // redirection vers la page approprié selon l'utilisateur\n          if(this.utilisateur.role === \"admin\") this.$router.push({name: \"adminhome\"});\n          else if (this.utilisateur.role === \"prestataire\") this.$emit(\"updateSignUp\", !this.signUpPrestatire);\n          else this.$router.push({ name: \"home\" });\n        } else {\n          this.message = response.data;\n        }\n      } catch (error) {\n        this.message = \"Une erreur est survenue. Veuillez réessayer.\";\n      }\n    },\n    toggleSlide() {\n      const button = document.getElementById('slideButton');\n\n      button.classList.toggle('active');\n\n      if (this.signup === \"Utilisateur\") {\n        this.signup = \"Prestataire\";\n      } else {\n        this.signup = \"Utilisateur\";\n      }\n    }\n  }\n}\n\n</script>\n\n<style scoped>\nbody{\n  margin: 0;\n  padding: 0;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-height: 100vh;\n  font-family: 'Jost', sans-serif;\n  background: linear-gradient(to bottom, #0f0c29, #302b63, #24243e);\n}\n.main{\n  width: 350px;\n  height: 620px;\n  background: red;\n  overflow: hidden;\n  background: url(\"https://doc-08-2c-docs.googleusercontent.com/docs/securesc/68c90smiglihng9534mvqmq1946dmis5/fo0picsp1nhiucmc0l25s29respgpr4j/1631524275000/03522360960922298374/03522360960922298374/1Sx0jhdpEpnNIydS4rnN4kHSJtU1EyWka?e=view&authuser=0&nonce=gcrocepgbb17m&user=03522360960922298374&hash=tfhgbs86ka6divo3llbvp93mg4csvb38\") no-repeat center/ cover;\n  border-radius: 10px;\n  box-shadow: 5px 20px 50px #000;\n}\n#chk{\n  display: none;\n}\n.signup{\n  position: relative;\n  width:100%;\n  height: 100%;\n}\n.title{\n  color: #fff;\n  font-size: 2.3em;\n  justify-content: center;\n  display: flex;\n  margin: 50px;\n  font-weight: bold;\n  cursor: pointer;\n  transition: .5s ease-in-out;\n}\n\nlabel{\n  justify-content: center;\n  display: flex;\n}\ninput{\n  width: 60%;\n  height: 10px;\n  background: #e0dede;\n  justify-content: center;\n  display: flex;\n  margin: 15px auto;\n  padding: 12px;\n  border: none;\n  outline: none;\n  border-radius: 5px;\n}\nbutton{\n  width: 60%;\n  height: 40px;\n  margin: 10px auto;\n  justify-content: center;\n  display: block;\n  color: #fff;\n  background: #573b8a;\n  font-size: 1em;\n  font-weight: bold;\n  margin-top: 30px;\n  outline: none;\n  border: none;\n  border-radius: 5px;\n  transition: .2s ease-in;\n  cursor: pointer;\n}\n.submit:hover{\n  background: #6d44b8;\n}\n.login{\n  height: 560px;\n  background: #eee;\n  border-radius: 70% / 10%;\n  transform: translateY(-180px);\n  transition: .8s ease-in-out;\n}\n.login .title{\n  color: #573b8a;\n  transform: scale(.6);\n}\n\n#chk:checked ~ .login{\n  transform: translateY(-600px);\n}\n#chk:checked ~ .login label{\n  transform: scale(1);\n}\n#chk:checked ~ .signup label{\n  transform: scale(.6);\n}\n\n.password-icon{\n  display: flex;\n  align-items: center;\n  position: absolute;\n  right: 20%;\n  transform: translateY(-50%);\n  width: 20px;\n  height: 10px;\n  color: #000000;\n  background-color: white;\n  transition: all 0.2s;\n  border: 0;\n}\n\n.login .password-icon {\n  top: 32%;\n  right: 10%;\n}\n\n.signup .password-icon{\n  top: 51%;\n  right: 10%;\n}\n\n.button-container {\n  position: relative;\n  width: 85%;\n  margin-bottom: 20px;\n  margin-left: 7.5%;\n  box-shadow: inset 0 4px 8px rgba(0, 0, 0, 0.2);\n  border-radius: 8px;\n\n}\n\n.button-slide {\n  position: relative;\n  left: 0;\n  padding: 10px 20px;\n  font-size: 16px;\n  color: #fff;\n  background-color: #3498db;\n  border: none;\n  cursor: pointer;\n  transition: left 0.5s ease, background-color 0.3s ease;\n  margin-left: 0;\n  width: 50%;\n}\n\n.button-slide.active {\n  left: calc(100% - 50%); /* Largeur du conteneur moins celle du bouton */\n  background-color: #2980b9;\n}\n\n/* Pour aligner les champs d'entrée */\ninput {\n  width: 80%; /* Largeur égale à celle du bouton pour un alignement */\n  display: block;\n  margin: 10px auto;\n  padding: 12px;\n  border: none;\n  outline: none;\n  border-radius: 5px;\n}\n\np{\n  color: white;\n}\n\n\n</style>"],"mappings":";AAsDA,OAAAA,WAAA;AACA,SAAAC,UAAA,EAAAC,QAAA;AAEA;EACAC,IAAA;EACAC,KAAA;EACAC,KAAA;IACA;MACAC,KAAA;MACAC,QAAA;MACAC,QAAA;MACAC,GAAA;MACAC,OAAA;MACAC,iBAAA;MACAC,OAAA;MACAC,MAAA;MACAC,eAAA;IACA;EACA;EACAC,QAAA;IACA,GAAAb,QAAA;EACA;EACAc,OAAA;IACA,GAAAf,UAAA;IACA,MAAAgB,UAAA;MACA;QACA,MAAAC,QAAA,SAAAlB,WAAA,CAAAiB,SAAA,MAAAX,KAAA,OAAAC,QAAA;QACA,IAAAW,QAAA,CAAAC,KAAA;UACA,WAAAC,KAAA,CAAAF,QAAA,CAAAb,IAAA;;UAEA;UACA,SAAAgB,WAAA,CAAAC,IAAA,mBAAAC,OAAA,CAAAC,IAAA;YAAArB,IAAA;UAAA,QACA,SAAAkB,WAAA,CAAAC,IAAA,yBAAAC,OAAA,CAAAC,IAAA,sBAAAH,WAAA,CAAAI,EAAA,SACA,KAAAF,OAAA,CAAAC,IAAA;YAAArB,IAAA;UAAA;QACA;UACA,KAAAS,OAAA,GAAAM,QAAA,CAAAb,IAAA;QACA;MACA,SAAAc,KAAA;QACAO,OAAA,CAAAP,KAAA,iCAAAA,KAAA;QACA,KAAAP,OAAA;MACA;IACA;IACAe,yBAAA;MACA,KAAAhB,iBAAA,SAAAA,iBAAA;IACA;IACA,MAAAiB,OAAA;MACA;QACA,MAAAV,QAAA,SAAAlB,WAAA,CAAA4B,MAAA,MAAAtB,KAAA,OAAAC,QAAA,OAAAE,GAAA,OAAAD,QAAA,OAAAE,OAAA,OAAAI,eAAA,OAAAD,MAAA;QAEA,IAAAK,QAAA,CAAAC,KAAA;UACA,WAAAC,KAAA,CAAAF,QAAA,CAAAb,IAAA;UACAqB,OAAA,CAAAG,GAAA,MAAAR,WAAA,CAAAC,IAAA;UACA;UACA,SAAAD,WAAA,CAAAC,IAAA,mBAAAC,OAAA,CAAAC,IAAA;YAAArB,IAAA;UAAA,QACA,SAAAkB,WAAA,CAAAC,IAAA,yBAAAQ,KAAA,uBAAAC,gBAAA,OACA,KAAAR,OAAA,CAAAC,IAAA;YAAArB,IAAA;UAAA;QACA;UACA,KAAAS,OAAA,GAAAM,QAAA,CAAAb,IAAA;QACA;MACA,SAAAc,KAAA;QACA,KAAAP,OAAA;MACA;IACA;IACAoB,YAAA;MACA,MAAAC,MAAA,GAAAC,QAAA,CAAAC,cAAA;MAEAF,MAAA,CAAAG,SAAA,CAAAC,MAAA;MAEA,SAAAxB,MAAA;QACA,KAAAA,MAAA;MACA;QACA,KAAAA,MAAA;MACA;IACA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}